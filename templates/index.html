<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>DWDM – ITU-T G.694.1</title>

    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 40px;
            background-color: #f4f6f8;
        }

        header {
            display: flex;
            align-items: center;
            gap: 20px;
            border-bottom: 3px solid #003366;
            padding-bottom: 15px;
            margin-bottom: 30px;
        }

        header img {
            height: 80px;
        }

        h1, h2, h3 {
            color: #003366;
        }

        table {
            border-collapse: collapse;
            width: 100%;
            background: white;
            margin-top: 15px;
        }

        th, td {
            border: 1px solid #999;
            padding: 6px;
            text-align: center;
        }

        th {
            background-color: #003366;
            color: white;
        }

        button {
            background-color: #003366;
            color: white;
            padding: 10px 15px;
            border: none;
            cursor: pointer;
            margin-top: 10px;
        }

        button:hover {
            background-color: #0055aa;
        }

        .contenido {
            display: none;
            margin-bottom: 40px;
        }

        img.grafico {
            max-width: 100%;
            background: white;
            padding: 10px;
            border: 1px solid #999;
            margin-top: 15px;
        }
    </style>

    <script>
        function toggle(id) {
            const div = document.getElementById(id);
            div.style.display = div.style.display === "none" ? "block" : "none";
        }
    </script>
</head>

<body>

<header>
    <img src="{{ url_for('static', filename='logo_epn.png') }}">
    <div>
        <h2>Escuela Politécnica Nacional</h2>
        <p><b>Asignatura:</b> Redes Ópticas</p>
        <p><b>Integrantes:</b> Gabriel Palma, Micaela Ortiz</p>
        <p><b>Semestre:</b> 2025-B</p>
    </div>
</header>

<h1>Rejilla DWDM – ITU-T G.694.1</h1>

<p>
La recomendación ITU-T G.694.1 define una rejilla DWDM fija anclada a
<b>193.1 THz</b>. El índice <b>n</b> se mantiene constante para todas las
separaciones; lo que cambia es qué valores de <b>n</b> son utilizados según
la granularidad espectral.
</p>

{% for nombre, filas in tablas.items() %}
<h2>Espaciamiento {{ nombre }}</h2>

<button onclick="toggle('tabla{{ loop.index }}')">
    Mostrar / Ocultar tabla y gráfico
</button>

<div class="contenido" id="tabla{{ loop.index }}">

<table>
    <tr>
        <th>n</th>
        <th>Frecuencia (THz)</th>
        <th>Longitud de onda (nm)</th>
    </tr>

    {% for fila in filas %}
    <tr>
        <td>{{ fila.n }}</td>
        <td>{{ fila.f }}</td>
        <td>{{ fila.lambda }}</td>
    </tr>
    {% endfor %}
</table>

<h3>Representación gráfica</h3>
<p>
Se observa que al aumentar el espaciamiento de canal disminuye el número
de frecuencias disponibles dentro del mismo rango espectral.
</p>

<img class="grafico"
     src="{{ url_for('static', filename='grafico_' + nombre.replace(' ', '_').replace('.', '') + '.png') }}">

</div>
{% endfor %}

<p>
<b>Nota:</b> Las longitudes de onda son aproximadas y se obtienen usando
<i>c = 2.99792458 × 10⁸ m/s</i>. En sistemas DWDM, las especificaciones
normativas se definen respecto a la frecuencia central.
</p>

</body>
</html>
